project:
  type: website
  output-dir: _site

website:
  title: "forecasttools-py"
  description: "Python utilities for CDC respiratory disease forecast hub submissions"
  repo-url: https://github.com/CDCgov/forecasttools-py
  repo-actions: [issue]
  navbar:
    left:
      - text: "Home"
        href: index.qmd
      - text: "Tutorials"
        menu:
          - text: "Constants & Locations"
            href: tutorials/constants_and_locations.qmd
          - text: "Datasets & InferenceData"
            href: tutorials/datasets_and_idata_creation.qmd
          - text: "Simulation-Based Calibration"
            href: tutorials/sbc_model_checking.qmd
      - text: "API Reference"
        href: reference/index.qmd
    right:
      - icon: github
        href: https://github.com/CDCgov/forecasttools-py

  sidebar:
    - title: "Tutorials"
      contents:
        - tutorials/constants_and_locations.qmd
        - tutorials/datasets_and_idata_creation.qmd
        - tutorials/sbc_model_checking.qmd
    - title: "API Reference"
      contents:
        - reference/index.qmd

  page-footer:
    center: "CFA Predict | CDC"

format:
  html:
    theme:
      light: flatly
      dark: darkly
    css: styles.css
    toc: true
    toc-depth: 3
    code-fold: false
    code-tools: true

execute:
  freeze: auto

quartodoc:
  package: forecasttools
  dir: reference
  title: "API Reference"
  sidebar: reference/_sidebar.yml
  parser: numpy
  sections:
    - title: "Location Functions"
      desc: "Functions for working with location codes"
      contents:
        - get_hub_locations
        - filter_to_hub_locations
        - loc_abbr_to_hubverse_code
        - loc_hubverse_code_to_abbr
        - location_lookup
        - to_location_table_column
    - title: "Data Retrieval"
      desc: "Functions for fetching CDC data"
      contents:
        - get_nhsn
        - get_data_cdc_gov_dataset
        - get_dataset_info
    - title: "Data Processing"
      desc: "Data transformation utilities"
      contents:
        - df_aggregate_to_epiweekly
        - trajectories_to_quantiles
        - get_hubverse_table
        - coalesce_common_columns
    - title: "ArviZ Utilities"
      desc: "Functions for working with ArviZ InferenceData objects"
      contents:
        - arviz.get_all_dims
        - arviz.replace_all_dim_suffix
        - arviz.assign_coords_from_start_step
        - arviz.prune_chains_by_rel_diff
    - title: "Validation"
      desc: "Input validation utilities"
      contents:
        - validate_input_type
        - validate_and_get_idata_group
        - validate_and_get_idata_group_var
        - validate_idata_group_var_dim
        - validate_iter_has_expected_types
        - ensure_listlike
